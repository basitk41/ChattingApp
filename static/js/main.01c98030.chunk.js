(this["webpackJsonphabib-app"]=this["webpackJsonphabib-app"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},53:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(8),r=n.n(c),i=(n(32),n(33),n(10)),u=n(7),o=n(23),l=n(24),d=n(27),b=n(26),j=n(3),f=n.n(j),h=n(1),m=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",email:"",username:"",adduser:!1,check:!1},e.addUserHandler=function(){var t=e.state.email.toLocaleLowerCase(),n={name:e.state.name,email:t,username:e.state.username,fav:!1};n.name&&n.email&&""!==n.username&&(0===e.props.users.filter((function(e){return e.email.toLocaleLowerCase().includes(t)})).length?f.a.post("https://habib-app-default-rtdb.firebaseio.com/habib.json",n).then((function(t){e.props.addUser(Object(i.a)({id:t.data.name},n)),e.setState({adduser:!1,name:"",email:"",username:""})})):e.setState({check:!0}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsx)(a.a.Fragment,{children:this.state.adduser?Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"User form"}),this.state.check?Object(h.jsx)("p",{style:{color:"red"},children:"Email already exists!"}):null,Object(h.jsx)("label",{children:"Name"}),Object(h.jsx)("input",{type:"text",className:"form-control",onChange:function(t){return e.setState({name:t.target.value})}}),Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",className:"form-control",onChange:function(t){return e.setState({email:t.target.value,check:!1})}}),Object(h.jsx)("label",{children:"Username"}),Object(h.jsx)("input",{type:"text",className:"form-control",onChange:function(t){return e.setState({username:t.target.value})}}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:"btn btn-success",onClick:this.addUserHandler,children:"Add"}),"\xa0",Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.setState({adduser:!1})},children:"Cancel"})]}):Object(h.jsx)("button",{className:"btn btn-success",onClick:function(){return e.setState({adduser:!0})},children:"Add User"})})}}]),n}(s.Component),O=(n(53),n(4)),v=a.a.createContext({users:[],set_users:function(){},add_users:function(){},fav:function(){},delete:function(){}}),x=function(e){var t=Object(s.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1];return Object(h.jsx)(v.Provider,{value:{users:a,set_users:function(e){c(e)},add_users:function(e){c(a.concat(e))},fav:function(e){var t=a.findIndex((function(t){return t.id===e})),n=a;n[t].fav=!n[t].fav,c(Object(O.a)(n))},delete:function(e){var t=Object(O.a)(a),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),c(Object(O.a)(t))}},children:e.children})},p=function(e){var t=e.user,n=e.fav,s=e.deleteUser;return Object(h.jsx)("div",{className:"col-sm-3",style:{margin:"30px"},children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("img",{src:"https://robohash.org/".concat(t.id,"?set=set2"),className:"card-img-top",alt:"...",height:"160px"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:t.name}),Object(h.jsx)("p",{className:"card-text",children:t.email}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-sm-12",children:[Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return s(t.id)},children:"Delete"}),t.fav?Object(h.jsx)("i",{className:"fas fa-heart",onClick:function(){return n(t.id,!t.fav)}}):Object(h.jsx)("i",{className:"far fa-heart",onClick:function(){return n(t.id,!t.fav)}})]})})]})]})})},N=function(e){var t=e.fav,n=e.users,s=e.deleteUser;return Object(h.jsx)("div",{className:"row",children:n.map((function(e){return Object(h.jsx)(p,{user:e,fav:t,deleteUser:s},e.id)}))})},g=function(e){var t=e.users,n=e.fav,s=e.deleteUser;return Object(h.jsx)("div",{className:"row",children:t.filter((function(e){return!0===e.fav})).map((function(e){return Object(h.jsx)(p,{user:e,fav:n,deleteUser:s},e.id)}))})},C=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(""),o=Object(u.a)(r,2),l=o[0],d=o[1],b=Object(s.useContext)(v);Object(s.useEffect)((function(){f.a.get("https://habib-app-default-rtdb.firebaseio.com/habib.json").then((function(e){var t=[];for(var n in e.data)t.push(Object(i.a)({id:n},e.data[n]));b.set_users(t)}))}),[]);var j=function(e,t){b.fav(e),f.a.put("https://habib-app-default-rtdb.firebaseio.com/habib/".concat(e,"/fav.json"),"".concat(t)).then((function(e){return console.log(e)}))},O=function(e){b.delete(e),f.a.delete("https://habib-app-default-rtdb.firebaseio.com/habib/".concat(e,".json")).then((function(e){}))},x=b.users.filter((function(e){return e.name.toLowerCase().includes(l.toLocaleLowerCase())}));return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-sm-3",children:[Object(h.jsx)("h1",{children:" "}),Object(h.jsx)(m,{users:b.users,addUser:function(e){return b.add_users(e)}}),Object(h.jsx)("hr",{})]}),Object(h.jsxs)("div",{className:"col-sm-9",children:[Object(h.jsx)("h2",{align:"center",children:"Users"}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-1"}),Object(h.jsxs)("div",{className:"col-sm-5",style:{marginBottom:"10px"},children:[Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return c(!1)},children:"All users"}),"\xa0\xa0",Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return c(!0)},children:"Favorite users"})]}),Object(h.jsx)("div",{className:"col-sm-4",children:Object(h.jsx)("input",{className:"form-control",onChange:function(e){return d(e.target.value)},placeholder:"Search User"})})]}),a?Object(h.jsx)(g,{fav:function(e,t){return j(e,t)},users:x,delete:O}):Object(h.jsx)(N,{fav:function(e,t){return j(e,t)},users:x,deleteUser:O})]})]})})},S=n(6),U="SET_USERS",_="ADD_USER",k="FAV_USER",w={users:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{users:t.users};case _:return{users:e.users.concat(t.user)};case k:var n=e.users.findIndex((function(e){return e.id===t.id})),s=e.users;return s[n].fav=!s[n].fav,{users:Object(O.a)(s)};default:return e}},E=(n(61),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.b);Object(S.c)(y,E());var L=function(){return Object(h.jsx)(x,{children:Object(h.jsx)(C,{})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};n(60);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root")),F()}},[[62,1,2]]]);
//# sourceMappingURL=main.01c98030.chunk.js.map